import{k as B,u as U,e as _,l as y,c as C,d as l,b as s,w as f,q as I,r as n,o as P,h as r}from"./index-B0ZEkQbq.js";import{r as w,o as L,u as N,e as S,b as q}from"./index-HgvS_6S-.js";const E={class:"grid content-center h-full w-full"},A={class:"text-center my-2"},D=l("span",null,"Don't have an account?",-1),F=l("span",{class:"font-bold"},"Sign Up",-1),j={__name:"Login",setup(M){const i=B(),c=U(),m=_(!1),d=_(!1),t=y({id:"",password:""}),h={id:{required:w,shouldBeChecked:L(S,q)},password:{required:w}},a=N(h,t);async function p(){console.log("Logging In...");let u=await c.login(t);console.log(u),u.uid?(await c.initUser(),i.push("/chats")):u=="invalid-credential"&&(d.value=!0)}function x(){i.push("/auth/forgot-password")}return(u,o)=>{const b=n("v-img"),V=n("v-alert"),g=n("v-text-field"),v=n("v-btn"),k=n("router-link"),$=n("v-form");return P(),C("div",E,[l("div",null,[l("div",null,[s(b,{src:"../assets/img/logo.png",class:"w-20 h-20 mx-auto my-8 rounded-sm"})]),l("div",null,[s($,{onSubmit:I(p,["prevent"]),class:"flex flex-col mx-4 gap-4"},{default:f(()=>[s(V,{text:"Wrong Password",type:"error",modelValue:d.value,"onUpdate:modelValue":o[0]||(o[0]=e=>d.value=e),rounded:"",closable:""},null,8,["modelValue"]),s(g,{modelValue:t.id,"onUpdate:modelValue":o[1]||(o[1]=e=>t.id=e),label:"Username or Email","error-messages":r(a).id.$errors.map(e=>e.$message),onBlur:r(a).id.$touch,onInput:r(a).id.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]),s(g,{modelValue:t.password,"onUpdate:modelValue":o[2]||(o[2]=e=>t.password=e),label:"Password",type:"password",onBlur:r(a).password.$touch,onInput:r(a).password.$touch},null,8,["modelValue","onBlur","onInput"]),s(v,{loading:m.value,class:"mt-2",text:"Login",block:"",onClick:o[3]||(o[3]=e=>p())},null,8,["loading"]),s(v,{loading:m.value,class:"mt-4",text:"Forgot Password",block:"",onClick:o[4]||(o[4]=e=>x())},null,8,["loading"]),l("div",A,[D,s(k,{to:"/auth/signup"},{default:f(()=>[F]),_:1})])]),_:1})])])])}}};export{j as default};
