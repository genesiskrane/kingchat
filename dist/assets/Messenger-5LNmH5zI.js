import{f as v,r as o,a as h,o as x,h as y,j as s,E as _,t as w,b as k,w as b}from"./index-C_6DOLCJ.js";const C="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='32'%20height='32'%20viewBox='0%200%2024%2024'%3e%3cpath%20fill='%23FFFFFF'%20d='m2%2021l21-9L2%203v7l15%202l-15%202z'/%3e%3c/svg%3e",F={id:"messenger",class:"flex flex-row bg-black m-1 p-1 gap-1"},T={id:"message",class:"w-full h-full bg-white grid items-center p-0"},z={class:"bg-yellow-100 h-full grid items-center"},B={id:"sender",class:"grid items-end"},L=s("img",{src:C,class:"h-10 w-10",alt:"Send"},null,-1),j={__name:"Messenger",props:["to"],setup(u){const d=u,f=v(),g=o(),l=o(),a=o(!1),m=o("Type a message");let r={};function c(e){l.value.innerText.length!==0&&(a.value=!0),e.type=="keyup"&&delete r[e.keyCode],e.type=="keydown"&&(r[e.keyCode]=!0,e.keyCode==13&&Object.keys(r).length==1&&(e.preventDefault(),p()))}function p(){const e=l.value.innerText.trim();l.value.innerText="",a.value=!1;let t=d.to.receiver,i=d.to.type;f.send({chatid:t,type:i},e)}return(e,t)=>{const i=h("v-btn");return x(),y("div",F,[s("div",T,[s("div",z,[s("p",{id:"text",contenteditable:"true",class:"p-1.5 max-h-60 break-all overflow-auto z-10",onKeyup:t[0]||(t[0]=n=>c(n)),onKeydown:t[1]||(t[1]=n=>c(n)),ref_key:"text",ref:l},null,544),s("div",{ref_key:"placeholder",ref:g,class:_([{hidden:a.value},"p-1.5 absolute z-0"])},w(m.value),3)])]),s("div",B,[k(i,{class:"flex flex-row min-h-min px-1.5 gap-1.5",color:"red-darken-1",rounded:"0",onClick:t[2]||(t[2]=n=>p())},{default:b(()=>[L]),_:1})])])}}};export{j as _};
