import{u as k,r as n,f as w,e as l,b as o,w as P,a,o as b,k as y}from"./index-Rn7jKIq7.js";const I={class:"grid content-center h-full w-full"},R=l("h2",{class:"my-2 text-center"},"Pick a profile picture",-1),U={class:"w-full p-4"},C={class:"flex flex-row flex-nowrap gap-2"},B={__name:"PickProfilePicture",setup(L){const u=y(),s=k(),d=n(),p=n(!1),f=n(s.user.photoURL),t=n("");function _(){t.value=d.value.$el.children[1].children[0].children[2].children[2].files[0],console.log(t.value),f.value=URL.createObjectURL(t.value)}function g(){u.push("/auth/create-username")}async function h(){p.value=!0;const i=s.user.uid;let e=t.value.name.split(".")[1];const r="users/avatars/"+i+"."+e;let c=await s.upload(t.value,r);await s.updateProfilePhotoImage(i,c),u.push("/auth/create-username")}return(i,e)=>{const r=a("v-img"),c=a("v-file-input"),m=a("v-btn"),x=a("v-form");return b(),w("div",I,[R,l("div",U,[o(r,{src:f.value,class:"w-96 h-96 mx-auto rounded-sm border","aspect-ratio":"1"},null,8,["src"])]),l("div",null,[o(x,{class:"flex flex-col mx-4 gap-4"},{default:P(()=>[o(c,{label:"Pick Photo","prepend-icon":"mdi-camera",variant:"filled",onInput:e[0]||(e[0]=v=>_()),ref_key:"file",ref:d},null,512),l("div",C,[o(m,{class:"mt-2 basis-1/3",text:"Skip",onClick:e[1]||(e[1]=v=>g())}),o(m,{loading:p.value,class:"mt-2 basis-2/3",text:"Upload",color:"indigo-darken-1",onClick:e[2]||(e[2]=v=>h())},null,8,["loading"])])]),_:1})])])}}};export{B as default};
