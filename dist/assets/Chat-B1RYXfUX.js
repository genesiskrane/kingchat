import{_ as S,f as g,o as p,h as m,F as j,j as F,d as l,t as u,u as n,D as L,r as U,k as b,c as q,w as r,e as z,a as o,b as e,i as x}from"./index-By7RkIAk.js";import{_ as A}from"./SideBar-C6ElfDyd.js";import{_ as E}from"./Messenger-UEqu6Vbz.js";const I={class:"h-full"},J={id:"time",class:"text-xs float-right"},T={__name:"Chat",props:["chat"],setup(f){const i=g();function c(t){return i.user.uid==t?"left":"right"}return(t,v)=>(p(),m("div",I,[(p(!0),m(j,null,F(f.chat.messages,a=>(p(),m("div",{key:a,class:"grid mx-2 my-4"},[l("div",{class:L(["bubble shadow-sm",{left:c(a.sender)=="left",right:c(a.sender)=="right"}])},[l("div",null,[l("div",null,u(a.text),1),l("div",J,u(n(i).formatTimeDisplay(a.time)),1)])],2)]))),128))]))}},G=S(T,[["__scopeId","data-v-bc18e1e4"]]),H={class:"text-xs"},P={__name:"Chat",setup(f){const i=g(),c=z();let t=U(!1);const v=c.query.origin;let a;switch(v){case"/home":a="recent";break;case"/chats":a="chats";break}let s=b(i[a].find(h=>h.profile.username==c.params.username));console.log(s);const k=b({type:"Chat",chatid:s._id||s.chatid});return(h,_)=>{const y=o("v-navigation-drawer"),w=o("v-app-bar-nav-icon"),C=o("v-img"),V=o("v-avatar"),B=o("v-app-bar-title"),$=o("v-app-bar"),D=o("v-container"),N=o("v-main"),R=o("v-app");return p(),q(R,null,{default:r(()=>[e(y,{modelValue:n(t),"onUpdate:modelValue":_[0]||(_[0]=d=>x(t)?t.value=d:t=d)},{default:r(()=>[e(A)]),_:1},8,["modelValue"]),e($,{elevation:2,color:"red-darken-1"},{default:r(()=>[e(w,{onClick:_[1]||(_[1]=d=>x(t)?t.value=!n(t):t=!n(t))}),e(V,null,{default:r(()=>[e(C,{alt:"John",src:n(s).profile.photoURL},null,8,["src"])]),_:1}),e(B,null,{default:r(()=>[l("span",null,u(n(s).profile.displayName),1),l("span",H," @"+u(n(s).profile.username),1)]),_:1})]),_:1}),e(N,null,{default:r(()=>[e(D,{class:"ma-0 pa-0 mx-auto flex flex-col justify-between h-full"},{default:r(()=>[e(G,{chat:n(s)},null,8,["chat"]),e(E,{to:k},null,8,["to"])]),_:1})]),_:1})]),_:1})}}};export{P as default};
