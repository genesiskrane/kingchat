import{l as k,u as w,f as n,c as P,d as l,b as o,w as b,r as a,o as y}from"./index-Do9ei8D9.js";const I={class:"grid content-center h-full w-full"},R=l("h2",{class:"my-2 text-center"},"Pick a profile picture",-1),U={class:"w-full p-4"},C={class:"flex flex-row flex-nowrap gap-2"},B={__name:"PickProfilePicture",setup(L){const u=k(),s=w(),p=n(),d=n(!1),f=n(s.app.user.photoURL),t=n("");function _(){t.value=p.value.$el.children[1].children[0].children[2].children[2].files[0],console.log(t.value),f.value=URL.createObjectURL(t.value)}function g(){u.push("/auth/create-username")}async function h(){d.value=!0;const i=s.app.user.uid;let e=t.value.name.split(".")[1];const r="users/avatars/"+i+"."+e;let c=await s.upload(t.value,r);await s.updateProfilePhotoImage(i,c),u.push("/auth/create-username")}return(i,e)=>{const r=a("v-img"),c=a("v-file-input"),m=a("v-btn"),x=a("v-form");return y(),P("div",I,[R,l("div",U,[o(r,{src:f.value,class:"w-96 h-96 mx-auto rounded-sm border","aspect-ratio":"1"},null,8,["src"])]),l("div",null,[o(x,{class:"flex flex-col mx-4 gap-4"},{default:b(()=>[o(c,{label:"Pick Photo","prepend-icon":"mdi-camera",variant:"filled",onInput:e[0]||(e[0]=v=>_()),ref_key:"file",ref:p},null,512),l("div",C,[o(m,{class:"mt-2 basis-1/3",text:"Skip",onClick:e[1]||(e[1]=v=>g())}),o(m,{loading:d.value,class:"mt-2 basis-2/3",text:"Upload",color:"indigo-darken-1",onClick:e[2]||(e[2]=v=>h())},null,8,["loading"])])]),_:1})])])}}};export{B as default};
