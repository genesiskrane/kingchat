import{f as x,r as k,g as C,o,h as s,F as V,j as F,d as t,t as p,u as v,k as w,G as D,H as E,p as z,l as I,c as R,w as c,a as r,b as a,B as $}from"./index-DUJgHH6i.js";import{_ as j}from"./SideBar-CgSQ2R0b.js";import{_ as U}from"./Messenger-5pmON9lO.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";const f=d=>(z("data-v-fe9cad2c"),d=d(),I(),d),G={key:0,id:"unread-tag",class:"text-center"},H=f(()=>t("span",{class:"text-xl underline"},"Unread Messages",-1)),q=[H],J={class:"text-xs underline"},K={class:"flex flex-row gap-1 float-right text-xs"},O={id:"time"},P={key:0,id:"reciept",class:"grid items-center"},Q={key:0,xmlns:"http://www.w3.org/2000/svg",style:{width:"1.5em",height:"1.5em"},viewBox:"0 0 24 24"},W=f(()=>t("path",{fill:"currentColor",stroke:"#43A047",d:"M.41 13.41L6 19l1.41-1.42L1.83 12m20.41-6.42L11.66 16.17L7.5 12l-1.43 1.41L11.66 19l12-12M18 7l-1.41-1.42l-6.35 6.35l1.42 1.41z"},null,-1)),X=[W],Y={key:1,xmlns:"http://www.w3.org/2000/svg",style:{width:"1.5em",height:"1.5em"},viewBox:"0 0 24 24"},Z=f(()=>t("path",{fill:"currentColor",stroke:"#ECEFF1",d:"M.41 13.41L6 19l1.41-1.42L1.83 12m20.41-6.42L11.66 16.17L7.5 12l-1.43 1.41L11.66 19l12-12M18 7l-1.41-1.42l-6.35 6.35l1.42 1.41z"},null,-1)),ee=[Z],te={key:2,xmlns:"http://www.w3.org/2000/svg",style:{width:"1.5em",height:"1.5em"},viewBox:"0 0 24 24"},ae=f(()=>t("path",{fill:"currentColor",stroke:"#ECEFF1",d:"M21 7L9 19l-5.5-5.5l1.41-1.41L9 16.17L19.59 5.59z"},null,-1)),oe=[ae],ne={key:3,xmlns:"http://www.w3.org/2000/svg",style:{width:"1.5em",height:"1.5em"},viewBox:"0 0 24 24"},se=E('<circle cx="12" cy="3.5" r="1.5" fill="currentColor" opacity="0" data-v-fe9cad2c><animateTransform attributeName="transform" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="0 12 12;90 12 12;180 12 12;270 12 12" data-v-fe9cad2c></animateTransform><animate attributeName="opacity" dur="0.6s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1;1;0" data-v-fe9cad2c></animate></circle><circle cx="12" cy="3.5" r="1.5" fill="currentColor" opacity="0" data-v-fe9cad2c><animateTransform attributeName="transform" begin="0.2s" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="30 12 12;120 12 12;210 12 12;300 12 12" data-v-fe9cad2c></animateTransform><animate attributeName="opacity" begin="0.2s" dur="0.6s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1;1;0" data-v-fe9cad2c></animate></circle><circle cx="12" cy="3.5" r="1.5" fill="currentColor" opacity="0" data-v-fe9cad2c><animateTransform attributeName="transform" begin="0.4s" calcMode="discrete" dur="2.4s" repeatCount="indefinite" type="rotate" values="60 12 12;150 12 12;240 12 12;330 12 12" data-v-fe9cad2c></animateTransform><animate attributeName="opacity" begin="0.4s" dur="0.6s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1;1;0" data-v-fe9cad2c></animate></circle>',3),re=[se],ie=["time"],le={__name:"Bubbles",setup(d,{expose:h}){const u=x(),m=k(null);h({bubbleDiv:m});const i=u.user.uid;let _=C(()=>u.rooms.active.messages);function l(n){return n==u.user.username?"right":"left"}return(n,y)=>(o(),s("div",{id:"bubbleDiv",ref_key:"bubbleDiv",ref:m},[(o(),s("div",G,q)),(o(!0),s(V,null,F(v(_),(e,b)=>(o(),s("div",{key:b,class:"grid mx-2 my-4"},[t("div",{class:D(["bubble shadow-sm",{left:l(e.username)=="left",right:l(e.username)=="right"}])},[t("div",null,[t("div",null,[t("span",J,p(e.username),1),t("p",null,p(e.msg.text),1)]),t("div",K,[t("div",O,p(e.time),1),l(e.sender)=="right"?(o(),s("div",P,[n.status[n.reciever].lastRead>=e.time?(o(),s("svg",Q,X)):n.status[n.reciever].lastDelivered>e.time?(o(),s("svg",Y,ee)):n.status[v(i)].lastSent>e.time?(o(),s("svg",te,oe)):n.status[v(i)].lastSent<e.time?(o(),s("svg",ne,re)):w("",!0)])):w("",!0),l(e.sender)=="left"?(o(),s("div",{key:1,time:e.time},null,8,ie)):w("",!0)])])],2)]))),128))],512))}},ce=A(le,[["__scopeId","data-v-fe9cad2c"]]),pe={__name:"Room",setup(d){const{back:h}=$("app"),u=x(),m=k(!1),i=C(()=>{let _=u.rooms.active;return _.type="Room",_});return(_,l)=>{const n=r("v-navigation-drawer"),y=r("v-icon"),e=r("v-app-bar-nav-icon"),b=r("v-img"),L=r("v-avatar"),B=r("v-app-bar-title"),N=r("v-app-bar"),M=r("v-container"),S=r("v-main"),T=r("v-app");return o(),R(T,null,{default:c(()=>[a(n,{modelValue:m.value,"onUpdate:modelValue":l[0]||(l[0]=g=>m.value=g)},{default:c(()=>[a(j)]),_:1},8,["modelValue"]),a(N,{elevation:2,color:"red-darken-1"},{default:c(()=>[a(e,{onClick:l[1]||(l[1]=g=>v(h)())},{default:c(()=>[a(y,{icon:"mdi-keyboard-backspace"})]),_:1}),a(L,null,{default:c(()=>[a(b,{alt:i.value.name,src:i.value.imgURL},null,8,["alt","src"])]),_:1}),a(B,null,{default:c(()=>[t("div",null,[t("p",null,[t("span",null,p(i.value.name)+" "+p(i.value.number),1)])])]),_:1})]),_:1}),a(S,null,{default:c(()=>[a(M,{class:"ma-0 pa-0 mx-auto flex flex-col justify-between h-full"},{default:c(()=>[a(ce,{chat:i.value},null,8,["chat"]),a(U,{to:i.value},null,8,["to"])]),_:1})]),_:1})]),_:1})}}};export{pe as default};
