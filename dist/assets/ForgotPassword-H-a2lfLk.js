import{s as C,k as V,u as R,e as c,l as k,m as $,c as B,d as t,b as s,w as U,q as E,r as a,o as N,h as u}from"./index-BvIN2EcR.js";import{r as q,o as F,u as G,e as I,b as S}from"./index-CCICJxPW.js";const A={class:"grid content-center h-full w-full"},M=t("h2",{class:"my-4 text-3xl text-center"},"Find your account",-1),P=t("p",{class:"my-2 text-center"}," Enter the email or username associated with your account to change your password. ",-1),j=t("div",{class:"text-sm text-right"},"Resend Recovery Code",-1),J={__name:"ForgotPassword",setup(z){const m=C(),v=V(),p=R(),r=c(!1),d=c(!1),n=k({id:m.query.id}),_={id:{required:q,shouldBeChecked:F(I,S)}},l=G(_,n),f=$(()=>l.value.$invalid);async function i(){console.log("Generating Recovery Code..."),r.value=!0,await p.generateRecoveryCode(n.id)?v.push("/auth/recovery-code-confirmation"):(d.value=!0,r.value=!1)}return(g,e)=>{const x=a("v-img"),h=a("v-alert"),y=a("v-text-field"),b=a("v-btn"),w=a("v-form");return N(),B("div",A,[t("div",null,[t("div",null,[s(x,{src:"../assets/img/logo.png",class:"w-20 h-20 mx-auto my-8 rounded-sm"}),M,P]),t("div",null,[s(w,{onSubmit:E(i,["prevent"]),class:"flex flex-col mx-4 gap-4"},{default:U(()=>[s(h,{text:"Username or Email does not have an account. Sign Up",type:"info",modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=o=>d.value=o),rounded:"",closable:""},null,8,["modelValue"]),j,s(y,{modelValue:n.id,"onUpdate:modelValue":e[1]||(e[1]=o=>n.id=o),label:"Username or Email","error-messages":u(l).id.$errors.map(o=>o.$message),onBlur:u(l).id.$touch,onInput:u(l).id.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]),s(b,{loading:r.value,class:"mt-2",text:"Next",block:"",color:"indigo-darken-1",onClick:e[2]||(e[2]=o=>i()),disabled:f.value},null,8,["loading","disabled"])]),_:1})])])])}}};export{J as default};
