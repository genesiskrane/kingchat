import{u as B,k as E,e as h,l as S,m as L,c as I,d as s,b as i,w as y,q as M,r,o as C,h as o,j as D}from"./index-ybiLX8FB.js";import{u as F,r as u,m as J,a as q,e as z}from"./index-DIEtL5PU.js";const O={class:"grid content-center h-full w-full"},R=s("h2",{class:"my-2 text-center"},"Sign Up",-1),Z=s("div",null,[s("span",null,"Date Of Birth")],-1),j={class:"flex flex-row gap-1"},T={class:"basis-3/6"},Y={class:"basis-2/6"},G={class:"basis-2/6"},H={class:"text-center my-2"},K=s("span",null,"Already have an account?",-1),P=s("span",{class:"font-bold"},"Login",-1),ee={__name:"SignUp",setup(Q){const m=B(),V=E();let c=h(!1),d=h("");const l=S({name:"",email:"",month:"",day:"",year:""}),$={name:{required:u,minLengthValue:J(1),maxLengthValue:q(50)},email:{required:u,email:z},month:{required:u},day:{required:u},year:{required:u}},n=F($,l),x=L(()=>d.value!==""?(console.log(n.value.$invalid),!0):n.value.$invalid);let v=[];for(let t=31;t>0;t--)v.push(t);let _=[];for(let t=2024;t>1980;t--)_.push(t);let w=["January","February","March","April","May","June","July","August","September","October","November","December"];async function f(){c.value=!0,console.log("SignUp Form Submitted",l);let t=await m.signup(l);console.log(t,m.$state.app.user.uid),t.status==200&&(c.value=!1,await m.login({id:m.$state.app.user.email,password:"12345678"}),V.push("/auth/email-verification"))}async function g(t){d.value="",t.match(/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,6}$/)?(await m.verifyEmail(t)).data.email&&(d.value="Email already in use.",n.value.$invalid=!0):console.log("Email Not Verifiable")}return(t,e)=>{const k=r("v-img"),b=r("v-text-field"),p=r("v-select"),N=r("v-btn"),U=r("router-link"),A=r("v-form");return C(),I("div",O,[s("div",null,[i(k,{src:"../assets/img/logo.png",class:"w-20 h-20 mx-auto my-8 rounded-sm"})]),s("div",null,[R,i(A,{onSubmit:M(f,["prevent"]),class:"mx-4"},{default:y(()=>[i(b,{modelValue:l.name,"onUpdate:modelValue":e[0]||(e[0]=a=>l.name=a),label:"Name",placeholder:"Name cannot be blank",maxlength:"50",counter:"","error-messages":o(n).name.$errors.map(a=>a.$message),onBlur:o(n).name.$touch,onInput:o(n).name.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]),i(b,{modelValue:l.email,"onUpdate:modelValue":e[1]||(e[1]=a=>l.email=a),label:"Email",onBlur:e[2]||(e[2]=a=>(g(l.email),o(n).email.$touch)),onInput:e[3]||(e[3]=a=>(g(l.email),o(n).email.$touch)),"error-messages":(o(n).email.$errors.map(a=>a.$message),o(d))},null,8,["modelValue","error-messages"]),Z,s("div",j,[s("div",T,[i(p,{label:"Month",items:o(w),modelValue:l.month,"onUpdate:modelValue":e[4]||(e[4]=a=>l.month=a)},null,8,["items","modelValue"])]),s("div",Y,[i(p,{label:"Day",items:o(v),modelValue:l.day,"onUpdate:modelValue":e[5]||(e[5]=a=>l.day=a)},null,8,["items","modelValue"])]),s("div",G,[i(p,{label:"Year",items:o(_),modelValue:l.year,"onUpdate:modelValue":e[6]||(e[6]=a=>l.year=a)},null,8,["items","modelValue"])])]),i(N,{loading:o(c),class:"mt-2",text:"Next",block:"",disabled:x.value,onClick:e[7]||(e[7]=a=>f())},null,8,["loading","disabled"]),s("div",H,[K,D(),i(U,{to:"/auth/login"},{default:y(()=>[P]),_:1})])]),_:1})])])}}};export{ee as default};
