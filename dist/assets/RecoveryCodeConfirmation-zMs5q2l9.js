import{f as h,r as f,h as g,d as u,b as d,t as w,u as C,w as V,n as b,a as i,o as I,p as S,l as X,q as k}from"./index-DUJgHH6i.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";const R=s=>(S("data-v-b0163c5a"),s=s(),X(),s),B={class:"grid content-center h-full w-full"},q={class:"mx-4"},N=R(()=>u("h2",{class:"my-2 text-center"},"We sent you a code",-1)),U={class:"mx-2 my-2 text-xs"},A={__name:"RecoveryCodeConfirmation",setup(s){const v=k(),c=h(),m=f(!1),a=f(""),_=x(c.app.user.email);function x(o){return console.log(o),o.replace(/(.{3})(.*)(?=@)/,(p,t,n)=>{console.log(p,t,n);for(let l=0;l<n.length;l++)t+="*";return t})}async function y(){if(a.value.length==6){let o=await c.verifyOTP({uid:c.app.user.uid,code:a.value});console.log(o),o?v.push("/auth/reset-password"):m.value=!0}}return(o,e)=>{const p=i("v-img"),t=i("v-alert"),n=i("v-text-field"),l=i("v-form");return I(),g("div",B,[u("div",null,[d(p,{src:"../assets/img/logo.png",class:"w-20 h-20 mx-auto my-8 rounded-sm"})]),u("div",q,[N,u("p",U," Check your email "+w(C(_))+" to get your confirmation code. If you need to request a new code, go back and re-enter your username or email. ",1),d(l,{onSubmit:e[3]||(e[3]=b(()=>{},["prevent"])),class:"flex flex-col gap-4"},{default:V(()=>[d(t,{text:"Invalid Code",type:"warning",modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=r=>m.value=r),rounded:"",closable:""},null,8,["modelValue"]),d(n,{modelValue:a.value,"onUpdate:modelValue":e[1]||(e[1]=r=>a.value=r),label:"Recovery Code",id:"code",placeholder:"XXXXXX",maxlength:"6",counter:"",onInput:e[2]||(e[2]=r=>y())},null,8,["modelValue"])]),_:1})])])}}},O=E(A,[["__scopeId","data-v-b0163c5a"]]);export{O as default};
